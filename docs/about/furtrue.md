# 关于技术

## 功能实现

> **不是实现了功能，而是好好地实现了功能；不断地发掘业务开发中的麻烦，去沉淀开发一些基础设施**

### 代码写的可读性、可维护性、执行性能

- 可读性——注释，命名，代码分区，不写过多的判断和表达式

  ```js
  // 错误的命名
  let a = ref(1)
  let b = ref(false)
  
  // 错误的分区：分区太过分散，同一模块想要使用还要来回翻找
  let a = 1
  let b = 2
  
  computed(() => {
    // ...
  })
  computed(() => {
    // ...
  })
  
  function f1 () {
    // ...
  }
  function f2 () {
    // ...
  }
  
  // 过多的判断
  let a = b > 1 ? c - a < 2 ? 0 : 1
  if (a> 1 && b < 2 || c > 3 || d % 2 = 0) {
    // ...
  }
  ```

- 可维护性——如果以后发生更改，是否能很好地修改

  ```js
  // 不好维护的v-if判断
  <div v-if="res.a === 'some1'"></div>
  <div v-if="res.a === 'some1'"></div>
  <div v-if="res.a === 'some1'"></div>
  
  // 正确的做法，声明一个常量，后续修改即可
  let RESULT = {
    status1: 'some1',
    status2: 'somme2'
  }
  <div v-if="res.a === RESULT['status1']"></div>
  ```

- 执行性能——执行频次尽量减少

  比如在做 `watch` 侦听，有些操作没必要在侦听内每次都重复做，可以提取出去放到外边做。

### 主动考虑到功能的体验问题

- 数据加载过程优化，如 `loading` 、尽量避免闪烁、及时反馈等

  短时间的接口无需添加 `loading` ，不然会有闪一下的效果。长时间的接口请求时再添加 `loading` 效果。

  有一些业务需求是判断用户权限，一般做法是请求了接口后再显示对应内容。代码如下：

  ```vue
  <script setup>
  axios.get('/xxx').then((res) => {
    status.value = res.status
  })
  </script>
  
  <template>
  	<div v-if=“status></div>
  </template>
  ```

  

- 元素过渡动画

- 友好提示

### 边界处理，减少意外BUG

***

1. 发现项目里常常重复的业务功能，沉淀为高可用的组件
2. 发现项目开发中的一些麻烦，开发一些工具或者脚本让这个过程更快

项目结构设计

性能优化

知识深广度

代码质量