<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>fs | 🔪 刀刀小站</title>
    <meta name="description" content="刀刀小站">
    <link rel="stylesheet" href="/blog/assets/style.d0cb5d6d.css">
    <link rel="modulepreload" href="/blog/assets/app.311aaacf.js">
    <link rel="modulepreload" href="/blog/assets/learn_Node_fs.md.2eb21633.lean.js">
    
    <link rel="icon" href="./favicon.ico">
  <meta property="og:title" content="刀刀博客">
  <meta property="og:site_name" content="刀刀博客">
  <meta property="og:type" content="website">
  <meta property="og:description" content="前端教程">
  <meta property="og:url" content="https://duyidao.gitee.io/blog/">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-f44a984a><!--[--><!--]--><!--[--><span tabindex="-1" data-v-151f2593></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-151f2593> Skip to content </a><!--]--><!----><header class="VPNav" data-v-f44a984a data-v-a50780ff><div class="VPNavBar has-sidebar" data-v-a50780ff data-v-6f1d18b5><div class="container" data-v-6f1d18b5><div class="VPNavBarTitle has-sidebar" data-v-6f1d18b5 data-v-d5925166><a class="title" href="/blog/" data-v-d5925166><!--[--><!--]--><!--[--><img class="VPImage logo" src="/blog/favicon.ico" alt data-v-b7ac6bd3><!--]--><!--[-->『 刀刀小站 』<!--]--><!--[--><!--]--></a></div><div class="content" data-v-6f1d18b5><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6f1d18b5 data-v-f83db6ba><span id="main-nav-aria-label" class="visually-hidden" data-v-f83db6ba>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> 💻 前端知识 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/learn/HTML/" data-v-e8e0fb1d data-v-3c355974><!--[-->HTML<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/learn/CSS/" data-v-e8e0fb1d data-v-3c355974><!--[-->CSS<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/learn/Javascript/" data-v-e8e0fb1d data-v-3c355974><!--[-->JavaScript<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/learn/vue2/%E6%8C%87%E4%BB%A4.html" data-v-e8e0fb1d data-v-3c355974><!--[-->Vue2<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/learn/Vue3/vue3%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA.html" data-v-e8e0fb1d data-v-3c355974><!--[-->Vue3<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/learn/React/" data-v-e8e0fb1d data-v-3c355974><!--[-->React<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/learn/TypeScript/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE.html" data-v-e8e0fb1d data-v-3c355974><!--[-->TypeScript<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/learn/Node/" data-v-e8e0fb1d data-v-3c355974><!--[-->Node<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuGroup" data-v-1c5d0cfc data-v-9ca52130><!----><!--[--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/blog/learn/%E6%9D%82%E6%8A%80%E6%8B%BE%E8%B0%88/vue3%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9Aproxy%E5%8E%9F%E7%90%86.html" data-v-e8e0fb1d data-v-3c355974><!--[-->杂技拾谈<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-1c5d0cfc data-v-9ca52130><!----><!--[--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/blog/learn/%E5%AD%A6%E8%80%8C%E6%97%B6%E4%B9%A0%E4%B9%8B/%E6%93%8D%E4%BD%9C%E5%86%85%E5%B5%8Cifrname%E4%B8%8E%E4%BC%A0%E9%80%92%E6%B6%88%E6%81%AF.html" data-v-e8e0fb1d data-v-3c355974><!--[-->学而时习之<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-1c5d0cfc data-v-9ca52130><!----><!--[--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/blog/learn/%E9%9D%A2%E8%AF%95%E9%B8%AD/%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95%E6%89%8B%E5%86%99%E5%8E%9F%E7%90%86.html" data-v-e8e0fb1d data-v-3c355974><!--[-->面试鸭<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> 💾 项目 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/project/lingsi/" data-v-e8e0fb1d data-v-3c355974><!--[-->灵思<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuGroup" data-v-1c5d0cfc data-v-9ca52130><!----><!--[--><!--[--><div class="VPMenuLink" data-v-9ca52130 data-v-e8e0fb1d><a class="VPLink link" href="/blog/project/myself/" data-v-e8e0fb1d data-v-3c355974><!--[-->自主学习<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> 🧊 部署 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/vitePress/" data-v-e8e0fb1d data-v-3c355974><!--[-->🌩️ VitePress<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-f83db6ba data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6ffb57d3><span class="text" data-v-6ffb57d3><!----> ⭐ 关于 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6ffb57d3><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><div class="items" data-v-1c5d0cfc><!--[--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/about/" data-v-e8e0fb1d data-v-3c355974><!--[-->⭐ 关于我<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1c5d0cfc data-v-e8e0fb1d><a class="VPLink link" href="/blog/about/blog.html" data-v-e8e0fb1d data-v-3c355974><!--[-->🔪 关于刀刀小站<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6f1d18b5 data-v-a3e7452b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-a3e7452b data-v-481098f9 data-v-eba7420e><span class="check" data-v-eba7420e><span class="icon" data-v-eba7420e><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-481098f9><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-481098f9><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6f1d18b5 data-v-738bef5a data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://gitee.com/duyidao" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6f1d18b5 data-v-e4361c82 data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-6ffb57d3><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-6ffb57d3><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><!----><!--[--><!--[--><!----><div class="group" data-v-e4361c82><div class="item appearance" data-v-e4361c82><p class="label" data-v-e4361c82>Appearance</p><div class="appearance-action" data-v-e4361c82><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-e4361c82 data-v-481098f9 data-v-eba7420e><span class="check" data-v-eba7420e><span class="icon" data-v-eba7420e><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-481098f9><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-481098f9><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-e4361c82><div class="item social-links" data-v-e4361c82><div class="VPSocialLinks social-links-list" data-v-e4361c82 data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://gitee.com/duyidao" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6f1d18b5 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-f44a984a data-v-b6162a8b><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-b6162a8b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-b6162a8b><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-b6162a8b>Menu</span></button><a class="top-link" href="#" data-v-b6162a8b> Return to top </a></div><aside class="VPSidebar" data-v-f44a984a data-v-a186aa16><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-a186aa16><span class="visually-hidden" id="sidebar-aria-label" data-v-a186aa16> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-a186aa16><section class="VPSidebarGroup collapsible" data-v-a186aa16 data-v-6e45c352><div class="title" role="button" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>node</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/blog/learn/Node/" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>node</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link active" href="/blog/learn/Node/fs.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>fs</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/learn/Node/path.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>path</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/learn/Node/http.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>http</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/learn/Node/module.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>module</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/learn/Node/express.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>express</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/blog/learn/Node/npm.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>npm</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-f44a984a data-v-d981fe29><div class="VPDoc has-sidebar has-aside" data-v-d981fe29 data-v-cfb513e0><div class="container" data-v-cfb513e0><div class="aside" data-v-cfb513e0><div class="aside-curtain" data-v-cfb513e0></div><div class="aside-container" data-v-cfb513e0><div class="aside-content" data-v-cfb513e0><div class="VPDocAside" data-v-cfb513e0 data-v-afc4c1a1><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-afc4c1a1 data-v-2865c0b0><div class="content" data-v-2865c0b0><div class="outline-marker" data-v-2865c0b0></div><div class="outline-title" data-v-2865c0b0>我是一个目录哦~</div><nav aria-labelledby="doc-outline-aria-label" data-v-2865c0b0><span class="visually-hidden" id="doc-outline-aria-label" data-v-2865c0b0> Table of Contents for current page </span><ul class="root" data-v-2865c0b0 data-v-1188541a><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-afc4c1a1></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-cfb513e0><div class="content-container" data-v-cfb513e0><!--[--><!--]--><main class="main" data-v-cfb513e0><div style="position:relative;" class="vp-doc _blog_learn_Node_fs" data-v-cfb513e0><div><h1 id="fs" tabindex="-1">fs <a class="header-anchor" href="#fs" aria-hidden="true">#</a></h1><p>fs 模块是 Node.js 官方提供的、用来操作文件的模块。它提供了一系列的方法和属性，用来满足用户对文件的操作需求。下面来一一介绍。</p><h2 id="异步操作" tabindex="-1">异步操作 <a class="header-anchor" href="#异步操作" aria-hidden="true">#</a></h2><p>我们使用 <code>readFile</code> 与 <code>writeFile</code> 对文件进行异步读写操作</p><p>同步文件操作会阻塞进程，所以使用异步文件操作拥有更好的性能，也是推荐的做法。</p><h3 id="读取文件" tabindex="-1">读取文件 <a class="header-anchor" href="#读取文件" aria-hidden="true">#</a></h3><p>使用 <code>fs.readFile()</code> 方法，可以读取指定文件中的内容，语法格式如下：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">readFile</span><span style="color:#A6ACCD;">(path[</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> options]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> callback)</span></span>
<span class="line"></span></code></pre></div><ul><li>参数1：必选参数，字符串，表示文件的路径。</li><li>参数2：可选参数，表示以什么编码格式来读取文件。</li><li>参数3：必选参数，文件读取完成后，通过回调函数拿到读取的结果</li></ul><h4 id="示例代码" tabindex="-1">示例代码 <a class="header-anchor" href="#示例代码" aria-hidden="true">#</a></h4><p><code>1.txt</code> 文件内容：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">hello</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><code>index.js</code> 文件内容：</p><ul><li><p>成功情况</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">readFile</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./1.txt</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">dataStr</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;">) </span><span style="color:#676E95;">// null</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">dataStr</span><span style="color:#F07178;">) </span><span style="color:#676E95;">// hello</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div></li><li><p>失败情况</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">readFile</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./11.txt</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">dataStr</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;">) </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// {</span></span>
<span class="line"><span style="color:#89DDFF;">  	</span><span style="color:#676E95;">//	errno: -4058,</span></span>
<span class="line"><span style="color:#89DDFF;">  	</span><span style="color:#676E95;">//	code: &#39;ENOENT&#39;,</span></span>
<span class="line"><span style="color:#89DDFF;">  	</span><span style="color:#676E95;">//	syscall: &#39;open&#39;,</span></span>
<span class="line"><span style="color:#89DDFF;">  	</span><span style="color:#676E95;">//	path: &#39;C:\\Users\\Administrator\\Desktop\\blog\\node\\11.txt&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">	</span><span style="color:#676E95;">// }</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">dataStr</span><span style="color:#F07178;">) </span><span style="color:#676E95;">// undefined</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div></li></ul><h3 id="写入文件" tabindex="-1">写入文件 <a class="header-anchor" href="#写入文件" aria-hidden="true">#</a></h3><p>使用 <code>fs.writeFile()</code> 方法，可以向指定的文件中写入内容，语法格式如下：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">writeFile</span><span style="color:#A6ACCD;">(file</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> data[</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> options]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> callback)</span></span>
<span class="line"></span></code></pre></div><ul><li>参数1：必选参数，需要指定一个文件路径的字符串，表示文件的存放路径。</li><li>参数2：必选参数，表示要写入的内容。</li><li>参数3：可选参数，表示以什么格式写入文件内容，默认值是 utf8。</li><li>参数4：必选参数，文件写入完成后的回调函数</li></ul><h4 id="示例代码-1" tabindex="-1">示例代码 <a class="header-anchor" href="#示例代码-1" aria-hidden="true">#</a></h4><ul><li><p>成功状态</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">writeFile</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./1.txt</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">add</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;">// null</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div></li><li><p>失败状态</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">writeFile</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./11.txt</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">add</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// {</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">//  errno: -4058,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">//  code: &#39;ENOENT&#39;,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">//  syscall: &#39;open&#39;,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">//  path: &#39;C:\\Users\\Administrator\\Desktop\\blog\\abc\\1.txt&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// }</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div></li></ul><h3 id="案例" tabindex="-1">案例 <a class="header-anchor" href="#案例" aria-hidden="true">#</a></h3><p>使用 <code>fs</code> 文件系统模块，将素材目录下成绩 <code>.txt</code> 文件中的考试数据，整理到成绩 <code>ok.txt</code> 文件中。</p><p>整理前的格式：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">小红=99 小白=100 小刀=150 小李=50</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>整理后的格式：</p><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">小红：99</span></span>
<span class="line"><span style="color:#A6ACCD;">小白：100</span></span>
<span class="line"><span style="color:#A6ACCD;">小刀：150</span></span>
<span class="line"><span style="color:#A6ACCD;">小李：50</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>代码：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">readFile</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./1.txt</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">dataStr</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// 判断读取是否成功</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">读取文件失败，</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// 把获取到的字符串中的 = 正则替换为：，空格替换为换行</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dataStr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">replace</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\=</span><span style="color:#89DDFF;">/</span><span style="color:#F78C6C;">g</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">：</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">replace</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">/</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#F78C6C;">g</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\r\n</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">writeFile</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./2.txt</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// 判断写入是否成功</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">成绩写入失败</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">成绩写入成功</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h2 id="同步操作" tabindex="-1">同步操作 <a class="header-anchor" href="#同步操作" aria-hidden="true">#</a></h2><ul><li>同步操作会阻塞进程</li><li>如果是写入文件，可以不设置编码</li></ul><h3 id="回调函数" tabindex="-1">回调函数 <a class="header-anchor" href="#回调函数" aria-hidden="true">#</a></h3><p>使用 <strong>readFile</strong> 与 <strong>writeFile</strong> 可以对文件进行异步操作，不阻塞进程拥有更好的性能。</p><ul><li>Node.js以错误优先为思想，所以回调函数第一个参数为错误信息，没有错误时值为null</li></ul><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">import { readFile, writeFile } from &#39;fs&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">readFile(&#39;hd.txt&#39;, &#39;utf8&#39;, (error, content) =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">  if (error) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(error)</span></span>
<span class="line"><span style="color:#A6ACCD;">  } else {</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(content)</span></span>
<span class="line"><span style="color:#A6ACCD;">    //异步写入文件</span></span>
<span class="line"><span style="color:#A6ACCD;">    writeFile(&#39;xj.txt&#39;, content, (error) =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">      if (error) console.log(error)</span></span>
<span class="line"><span style="color:#A6ACCD;">      else console.log(&#39;文件写入成功&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    })</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">})</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(&#39;后盾人提示，因为是异步，所以这行较readFile的回调函数先执行&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="promise" tabindex="-1">Promise <a class="header-anchor" href="#promise" aria-hidden="true">#</a></h3><p>下面使用 Promise 对文件的操作方法进行封装</p><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">import { readFile, writeFile } from &#39;fs&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//获取文件</span></span>
<span class="line"><span style="color:#A6ACCD;">function fileGetContent(file: string): Promise&lt;string&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">  return new Promise((resolve) =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">    readFile(file, &#39;utf8&#39;, (error, content) =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">      resolve(content)</span></span>
<span class="line"><span style="color:#A6ACCD;">    })</span></span>
<span class="line"><span style="color:#A6ACCD;">  })</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//写入文件</span></span>
<span class="line"><span style="color:#A6ACCD;">function filePutContent(file: string, content: string) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  return new Promise((resolve) =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">    writeFile(file, content, (error) =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">      if (error) throw error</span></span>
<span class="line"><span style="color:#A6ACCD;">      resolve(true)</span></span>
<span class="line"><span style="color:#A6ACCD;">    })</span></span>
<span class="line"><span style="color:#A6ACCD;">  })</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">// 使用 async/await 使用代码更清晰</span></span>
<span class="line"><span style="color:#A6ACCD;">async function hd() {</span></span>
<span class="line"><span style="color:#A6ACCD;">  const content = await fileGetContent(&#39;hd.txt&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  await filePutContent(&#39;xj.txt&#39;, content)</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(&#39;xj.txt 写入成功&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">hd()</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(&#39;先输出...&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h4 id="fs-promises" tabindex="-1">fs/promises <a class="header-anchor" href="#fs-promises" aria-hidden="true">#</a></h4><p>其实我们不需要自己封装，因为 Node 提供了 Promise 操作机制</p><p><strong>fs/promises</strong> 提供了 Promise 操作机制</p><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">import { readFile } from &#39;fs/promises&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">readFile(&#39;hd.txt&#39;, &#39;utf-8&#39;).then((content) =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(content)</span></span>
<span class="line"><span style="color:#A6ACCD;">}).catch(error=&gt;console.log(error))</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="路径拼接" tabindex="-1">路径拼接 <a class="header-anchor" href="#路径拼接" aria-hidden="true">#</a></h2><p>在使用 <code>fs</code> 模块操作文件时，如果提供的操作路径是以 <code>./</code> 或 <code>../</code> 开头的相对路径时，很容易出现路径动态拼接错误的问题。</p><p>原因：代码在运行的时候，会以执行 <code>node</code> 命令时所处的目录，动态拼接出被操作文件的完整路径。</p><p>解决方案：在使用 <code>fs</code> 模块操作文件时，直接提供完整的路径，或者通过 <code>__dirname</code> 字段拼接获取路径，不要提供 <code>./</code> 或 <code>../</code> 开头的相对路径，从而防止路径动态拼接的问题。</p><h2 id="文件信息" tabindex="-1">文件信息 <a class="header-anchor" href="#文件信息" aria-hidden="true">#</a></h2><h3 id="existssync" tabindex="-1">existsSync <a class="header-anchor" href="#existssync" aria-hidden="true">#</a></h3><p>使用 <strong>existsSync</strong> 判断文件或目录是否存在，返回值是 <strong>boolean</strong></p><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">import { existsSync } from &#39;fs&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">if (existsSync(&#39;hd.txt&#39;)) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(&#39;文件存在&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="https-doc-houdunren-com-系统课程-node-8-fs模块-html-stat-stat" tabindex="-1">[#](<a href="https://doc.houdunren.com/%E7%B3%BB%E7%BB%9F%E8%AF%BE%E7%A8%8B/node/8" target="_blank" rel="noreferrer">https://doc.houdunren.com/系统课程/node/8</a> FS模块.html#stat)stat <a class="header-anchor" href="#https-doc-houdunren-com-系统课程-node-8-fs模块-html-stat-stat" aria-hidden="true">#</a></h3><p>使用 <strong>stat</strong> 可以获取文件或目录详细信息，比如可用来判断是否是文件或目录。</p><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">import { stat } from &#39;fs&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">stat(&#39;hda&#39;, (error, stats) =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">  if (error) throw new Error(&#39;文件不存在或没有操作权限&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">  if (stats.isFile()) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(&#39;这是文件&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">  if (stats.isDirectory()) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(&#39;这是目录&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">})</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong>fs/promises</strong> 提供了 Promise 的操作方法</p><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">import { stat } from &#39;fs/promises&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//是否是目录</span></span>
<span class="line"><span style="color:#A6ACCD;">async function fileType(file: string) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  try {</span></span>
<span class="line"><span style="color:#A6ACCD;">    const stats = await stat(file)</span></span>
<span class="line"><span style="color:#A6ACCD;">    return stats.isDirectory() ? &#39;dir&#39; : &#39;file&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  } catch (error) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (error) throw new Error(&#39;文件不存在或没有操作权限&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">fileType(&#39;hd&#39;).then((type) =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(type === &#39;dir&#39; ? &#39;目录&#39; : &#39;文件&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">})</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="https-doc-houdunren-com-系统课程-node-8-fs模块-html-unlink-unlink" tabindex="-1">[#](<a href="https://doc.houdunren.com/%E7%B3%BB%E7%BB%9F%E8%AF%BE%E7%A8%8B/node/8" target="_blank" rel="noreferrer">https://doc.houdunren.com/系统课程/node/8</a> FS模块.html#unlink)unlink <a class="header-anchor" href="#https-doc-houdunren-com-系统课程-node-8-fs模块-html-unlink-unlink" aria-hidden="true">#</a></h3><p>使用 <strong>unlink</strong> 执行异步删除文件</p><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">import { unlink, writeFileSync } from &#39;fs&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">writeFileSync(&#39;hd.txt&#39;, &#39;houdunren&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">setTimeout(() =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">	//三秒后删除文件</span></span>
<span class="line"><span style="color:#A6ACCD;">  unlink(&#39;hd.txt&#39;, (error) =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (error) throw error</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(&#39;文件删除成功&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">  })</span></span>
<span class="line"><span style="color:#A6ACCD;">}, 3000)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong>fs/promises</strong> 中封装了 Promise 删除文件方法</p><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">import { writeFileSync } from &#39;fs&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">import { unlink } from &#39;fs/promises&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">async function hd() {</span></span>
<span class="line"><span style="color:#A6ACCD;">  await unlink(&#39;hd.txt&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">writeFileSync(&#39;hd.txt&#39;, &#39;houdunren.com&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">setTimeout(() =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">  hd()</span></span>
<span class="line"><span style="color:#A6ACCD;">}, 3000)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="https-doc-houdunren-com-系统课程-node-8-fs模块-html-目录管理-目录管理" tabindex="-1">[#](<a href="https://doc.houdunren.com/%E7%B3%BB%E7%BB%9F%E8%AF%BE%E7%A8%8B/node/8" target="_blank" rel="noreferrer">https://doc.houdunren.com/系统课程/node/8</a> FS模块.html#目录管理)目录管理 <a class="header-anchor" href="#https-doc-houdunren-com-系统课程-node-8-fs模块-html-目录管理-目录管理" aria-hidden="true">#</a></h2><p>下面向军大叔教大家使用 Node 操作目录</p><h3 id="https-doc-houdunren-com-系统课程-node-8-fs模块-html-创建目录-创建目录" tabindex="-1">[#](<a href="https://doc.houdunren.com/%E7%B3%BB%E7%BB%9F%E8%AF%BE%E7%A8%8B/node/8" target="_blank" rel="noreferrer">https://doc.houdunren.com/系统课程/node/8</a> FS模块.html#创建目录)创建目录 <a class="header-anchor" href="#https-doc-houdunren-com-系统课程-node-8-fs模块-html-创建目录-创建目录" aria-hidden="true">#</a></h3><p>下面是使用 <strong>mkdirSync</strong> 以同步的方式创建多级目录</p><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">import { mkdirSync } from &#39;fs&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">const state = mkdirSync(&#39;a/b/c/d&#39;, { recursive: true })</span></span>
<span class="line"><span style="color:#A6ACCD;">if (state) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(&#39;目录创建成功&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>使用 <strong>mkdir</strong> 可以创建目录，如果目录已经存在将报错</p><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">import { mkdir } from &#39;fs&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">mkdir(&#39;hd&#39;, (error) =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">  if (error) throw error</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(&#39;目录创建成功&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">})</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong>fs/promises</strong> 提供了 Promise 操作方法</p><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">import { mkdir } from &#39;fs/promises&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">async function hd() {</span></span>
<span class="line"><span style="color:#A6ACCD;">  await mkdir(&#39;hd&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">hd()</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="https-doc-houdunren-com-系统课程-node-8-fs模块-html-删除目录-删除目录" tabindex="-1">[#](<a href="https://doc.houdunren.com/%E7%B3%BB%E7%BB%9F%E8%AF%BE%E7%A8%8B/node/8" target="_blank" rel="noreferrer">https://doc.houdunren.com/系统课程/node/8</a> FS模块.html#删除目录)删除目录 <a class="header-anchor" href="#https-doc-houdunren-com-系统课程-node-8-fs模块-html-删除目录-删除目录" aria-hidden="true">#</a></h3><p>使用 <strong>rmdirSync</strong> 以同步的方式删除多级目录，同步删除会阻塞代码，建议尽可能使用异步操作。</p><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">import { rmdirSync } from &#39;fs&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">rmdirSync(&#39;a&#39;, { recursive: true })</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>使用 <strong>rmdir</strong> 异步删除目录，默认只能删除空目录</p><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">import { rmdir } from &#39;fs&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">rmdir(&#39;hd&#39;, (error) =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">  if (error) throw error</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(&#39;目录删除成功&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">})</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>递归删除目录，即删除目录中的所有内容，可以删除非空目录</p><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">import { rmdir } from &#39;fs&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">rmdir(&#39;hd&#39;, { recursive: true }, (error) =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">  if (error) throw error</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(&#39;目录删除成功&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">})</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong>fs/promises</strong> 提供了 Promise 操作方法，用于异步删除目录</p><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">import { rmdir } from &#39;fs/promises&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">rmdir(&#39;hd&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">  .then((e) =&gt; console.log(&#39;删除成功&#39;))</span></span>
<span class="line"><span style="color:#A6ACCD;">  .catch((error) =&gt; console.log(&#39;删除失败&#39;))</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>下面是递归删除目录，非空目录也可以一次删除</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">rmdir</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fs</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">rmdir</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hd</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">recursive</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">error</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">error</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">throw</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">error</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">目录删除成功</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-cfb513e0 data-v-21f75714><!----><div class="prev-next" data-v-21f75714><div class="pager" data-v-21f75714><a class="pager-link prev" href="/blog/learn/Node/" data-v-21f75714><span class="desc" data-v-21f75714>Previous page</span><span class="title" data-v-21f75714>node</span></a></div><div class="has-prev pager" data-v-21f75714><a class="pager-link next" href="/blog/learn/Node/path.html" data-v-21f75714><span class="desc" data-v-21f75714>Next page</span><span class="title" data-v-21f75714>path</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-f44a984a data-v-9f24cc86><div class="container" data-v-9f24cc86><!----><p class="copyright" data-v-9f24cc86>Copyright © 2023-present 杜一刀</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"about_blog.md\":\"f53d225f\",\"about_index.md\":\"bb7c5011\",\"index.md\":\"e53fcb50\",\"knowledgepoint_index.md\":\"bb490292\",\"learn_css_index.md\":\"8dd0f11a\",\"learn_css_咨询拓展_bem.md\":\"09795b8c\",\"learn_css_效果提升_空白节点.md\":\"a62e442b\",\"learn_html_advanced.md\":\"a78106fa\",\"learn_html_index.md\":\"4d207e40\",\"learn_javascript_promise.md\":\"6ea19027\",\"learn_javascript_promise核心.md\":\"4d6793c6\",\"learn_javascript_array.md\":\"5c8dfc9b\",\"learn_javascript_function.md\":\"d0e9c74d\",\"learn_javascript_index.md\":\"b8eb89fd\",\"learn_javascript_map.md\":\"3c1bf1d7\",\"learn_javascript_object.md\":\"ae9cb91f\",\"learn_javascript_scope_closure.md\":\"d2fd9e61\",\"learn_javascript_set.md\":\"97da2147\",\"learn_javascript_sort.md\":\"94fd13ae\",\"learn_javascript_symbol.md\":\"f407a0ac\",\"learn_javascript_type.md\":\"2bdaedd2\",\"learn_javascript_原型与原型链.md\":\"e7f6aa22\",\"learn_javascript_模块化.md\":\"35033ce6\",\"learn_javascript_正则表达式.md\":\"421aad7d\",\"learn_javascript_类.md\":\"84aabb9b\",\"learn_node_express.md\":\"228c9f2f\",\"learn_node_fs.md\":\"2eb21633\",\"learn_node_http.md\":\"cddcb76f\",\"learn_node_index.md\":\"4ecfb665\",\"learn_node_module.md\":\"18277129\",\"learn_node_npm.md\":\"276cdcc5\",\"learn_node_path.md\":\"2cac4b6c\",\"learn_react_reactrouter6.md\":\"440cee56\",\"learn_react_index.md\":\"b6194eab\",\"learn_react_index_new.md\":\"1f2f7fa4\",\"learn_react_react拓展.md\":\"93ead957\",\"learn_react_react的diff算法.md\":\"522066a9\",\"learn_react_react路由.md\":\"8558965b\",\"learn_react_redux.md\":\"cf3a2800\",\"learn_typescript_断言与枚举.md\":\"86d6cea3\",\"learn_typescript_泛型.md\":\"54cf342e\",\"learn_typescript_环境配置.md\":\"6a4dc56e\",\"learn_typescript_类与接口.md\":\"a6e4af6a\",\"learn_typescript_类型.md\":\"3fb9a95d\",\"learn_typescript_装饰器.md\":\"9fbb71a7\",\"learn_vue3_vue3新特性.md\":\"88e79266\",\"learn_vue3_pinia.md\":\"b5d2d929\",\"learn_vue3_vue3的使用.md\":\"4ca738da\",\"learn_vue3_vue3项目创建.md\":\"69ff3bc6\",\"learn_vue3_内置组件.md\":\"aaa7bf4e\",\"learn_vue3_插槽.md\":\"a3eb5aeb\",\"learn_vue3_源码.md\":\"eb927b80\",\"learn_vue3_组件.md\":\"0cf2c6e4\",\"learn_vue3_自定义指令.md\":\"7b332735\",\"learn_vue2_动态样式、计算属性、过滤器与侦听器.md\":\"853c8b47\",\"learn_vue2_动态组件、插槽与自定义指令.md\":\"ecafa666\",\"learn_vue2_指令.md\":\"51ebe689\",\"learn_vue2_组件通信.md\":\"02281315\",\"learn_学而时习之_前端功能操作模块_前端下载后端传输的文件.md\":\"54acf15e\",\"learn_学而时习之_前端功能操作模块_前端操作excel与word.md\":\"a868a855\",\"learn_学而时习之_前端功能操作模块_前端文件上传与相关操作.md\":\"3cc6ddab\",\"learn_学而时习之_前端功能操作模块_富文本编辑器.md\":\"c8d5f612\",\"learn_学而时习之_前端第三方组件修改案例学习_通过el-calendar实现业务.md\":\"798c92b8\",\"learn_学而时习之_前端第三方组件修改案例学习_通过el-select实现多个省略学习如何改造第三方组件满足自己的要求.md\":\"1fedec96\",\"learn_学而时习之_前端第三方组件修改案例学习_通过el-table实现多数据完美无限滚动效果.md\":\"d70c5c5d\",\"learn_学而时习之_前端第三方组件修改案例学习_页码列表组件封装思路.md\":\"cfc11213\",\"learn_学而时习之_前端组件封装实例_vue组件设计技巧.md\":\"fd2d20c0\",\"learn_学而时习之_前端组件封装实例_对话框弹窗组件.md\":\"4ee8f48a\",\"learn_学而时习之_前端组件封装实例_输入框组件封装.md\":\"b3bae819\",\"learn_学而时习之_操作内嵌ifrname与传递消息.md\":\"39b97f5a\",\"learn_学而时习之_更上一层楼_axios二次封装.md\":\"53d46aba\",\"learn_学而时习之_更上一层楼_canvas操作.md\":\"5b58c62d\",\"learn_学而时习之_更上一层楼_vue项目对render和jsx的妙用.md\":\"8be71dfc\",\"learn_学而时习之_更上一层楼_vue项目权限控制.md\":\"538821ee\",\"learn_学而时习之_更上一层楼_前端性能优化方案.md\":\"2fac0a63\",\"learn_杂技拾谈_h5移动端调试.md\":\"36b69a8f\",\"learn_杂技拾谈_hbuilder使用模拟器调试.md\":\"54912e76\",\"learn_杂技拾谈_javascript『图片压缩』.md\":\"46a2dfc2\",\"learn_杂技拾谈_js执行顺序.md\":\"b6b213d2\",\"learn_杂技拾谈_vue3双向绑定proxy原理.md\":\"2415d07d\",\"learn_杂技拾谈_vue图片动态引入使用require.md\":\"fe99cb8e\",\"learn_杂技拾谈_vue项目打包后首页白屏总结.md\":\"b379b42e\",\"learn_杂技拾谈_多接口请求.md\":\"339ed342\",\"learn_杂技拾谈_数组对象遍历.md\":\"0e78e6f3\",\"learn_杂技拾谈_设计模式.md\":\"22941454\",\"learn_面试鸭_(a__1__a__2__a__3).md\":\"90100b96\",\"learn_面试鸭_关于foreach使用break跳出循环.md\":\"00de0005\",\"learn_面试鸭_手写封装ajax.md\":\"1bc98c7f\",\"learn_面试鸭_数组去重.md\":\"5420bfa0\",\"learn_面试鸭_数组方法手写原理.md\":\"1c22dcbf\",\"project_index.md\":\"69a9b4d7\",\"project_lingsi_crm_call.md\":\"3bd31eb8\",\"project_lingsi_crm_index.md\":\"24852d1a\",\"project_lingsi_crm_navigateback.md\":\"c1754f00\",\"project_lingsi_crm_微信授权.md\":\"2b8c7184\",\"project_lingsi_crm_部署.md\":\"b8f0041a\",\"project_lingsi_elk_blob.md\":\"1fbf2f4a\",\"project_lingsi_elk_canvas_table.md\":\"5d8c44c4\",\"project_lingsi_elk_edit_json.md\":\"6c9bdb6b\",\"project_lingsi_elk_edit_div.md\":\"3f9c1bed\",\"project_lingsi_elk_index.md\":\"53c19f12\",\"project_lingsi_elk_pdf.md\":\"8a7683d4\",\"project_lingsi_elk_vue_core.md\":\"fc6fe305\",\"project_lingsi_index.md\":\"d7d8632e\",\"project_lingsi_music_app_detail.md\":\"700ef870\",\"project_lingsi_music_app_do.md\":\"7b806e7e\",\"project_lingsi_music_app_login.md\":\"bed28bbd\",\"project_lingsi_music_app_pay.md\":\"224539d3\",\"project_lingsi_music_app_share.md\":\"fbdc0a9c\",\"project_lingsi_music_app_sku.md\":\"db122f01\",\"project_lingsi_music_app_tabbar.md\":\"0ed1af58\",\"project_lingsi_music_app_test.md\":\"f7a066b9\",\"project_lingsi_music_app_update.md\":\"c4c99655\",\"project_lingsi_music_app_userinfo.md\":\"205a6a95\",\"project_lingsi_music_h5_index.md\":\"973e7506\",\"project_lingsi_music_index.md\":\"204e793e\",\"project_lingsi_sale_index.md\":\"e0ea2d6f\",\"project_lingsi_sale_preview.md\":\"73a167cd\",\"project_lingsi_sale_request.md\":\"e2649ca2\",\"project_lingsi_sale_token.md\":\"75ee19bb\",\"project_lingsi_sale_upload.md\":\"be6a390f\",\"project_lingsi_sale_video.md\":\"907cd1d0\",\"project_lingsi_sale_关注公众号.md\":\"6f3784d0\",\"project_lingsi_sale_分享.md\":\"da64bbc7\",\"project_lingsi_sale_商城.md\":\"868e342e\",\"project_lingsi_sale_获取手机号.md\":\"9ec6b282\",\"project_lingsi_水泥_index.md\":\"9a59084f\",\"project_lingsi_水泥_jeecg_j-vxe-table搭配其他组件.md\":\"8a764c47\",\"project_lingsi_水泥_jeecg_树组件默认展开.md\":\"0b02061f\",\"project_lingsi_水泥_jeecg_表格行选中.md\":\"73aa3a58\",\"project_lingsi_水泥_vue_color.md\":\"22993505\",\"project_lingsi_水泥_图片对比可拖拽轮子.md\":\"ba21a959\",\"project_lingsi_职技网_index.md\":\"8144e3c2\",\"project_lingsi_职技网_vant组件二次封装.md\":\"7db573e1\",\"project_lingsi_职技网_下载附件.md\":\"54d8357d\",\"project_lingsi_职技网_微信授权.md\":\"8cb9a389\",\"project_lingsi_职技网_项目创建.md\":\"beec8bb6\",\"project_myself_index.md\":\"df209623\",\"project_myself_小兔鲜_all.md\":\"8d9fa78c\",\"project_myself_小兔鲜_detail.md\":\"eabdd0db\",\"project_myself_小兔鲜_home.md\":\"e8cfa4cb\",\"project_myself_小兔鲜_index.md\":\"a3cd86b6\",\"project_myself_小兔鲜_layout.md\":\"b572c166\",\"project_myself_小兔鲜_login.md\":\"91a5941f\",\"project_myself_小兔鲜_sku.md\":\"8e20b532\",\"project_myself_小兔鲜_一级分类.md\":\"dadfec3c\",\"project_myself_小兔鲜_购物车.md\":\"fa0849e1\",\"project_myself_尚医通_index.md\":\"20c9887f\",\"project_myself_硅谷甄选_spu管理.md\":\"28637124\",\"project_myself_硅谷甄选_index.md\":\"131396e9\",\"project_myself_硅谷甄选_属性管理.md\":\"2c1964d8\",\"project_myself_硅谷甄选_数据大屏.md\":\"88075b49\",\"project_myself_硅谷甄选_状态管理.md\":\"4c558b95\",\"project_myself_硅谷甄选_设置.md\":\"ec7c5754\",\"project_myself_硅谷甄选_路由.md\":\"504fa5df\",\"vitepress_build.md\":\"f31059e5\",\"vitepress_deploy.md\":\"07e3df57\",\"vitepress_dev.md\":\"fa78f35d\",\"vitepress_know.md\":\"3798415e\",\"vitepress_index.md\":\"5a28d6a8\"}")</script>
    <script type="module" async src="/blog/assets/app.311aaacf.js"></script>
    
  </body>
</html>