## 第十章 Symbol

在本章节阮一峰老师就 `Symbol` 的定义和作用展开描述，其中重点讲解了概述、属性名遍历、`for()` 和 `keyFor()` 方法，最后来两个实例。

### 概述

在 ES5 时，如果使用了他人的数据对象，但又想添加自己的数据，很容易会因为属性名冲突而导致数据覆盖。因为 ES5 对象的属性名都是字符串型。

为了解决这个问题，ES6 推出了 Symbol，他是第7种数据类型。

> 📦 拓展
>
> 前6种数据类型分别是 undefined、null、布尔值（boolean）、字符串（string）、数值（number）、对象（object）。

通过 Symbol 函数生成，是第一无二的，不会与其他属性名造成冲突。可以接收一个字符串，主要用于控制台打印区分。

```js
let s = Symbol()
let b = Symbol('bar')

console.log(typeof s) // symbol
console.log(typeof b) // symbol(bar)
```

> ⚠️ 注意
>
> Symbol 函数前不能使用 new 命令，否则会报错 这是因为生成的 Symbol 是一个原始类型的值，不是对象。也就是说，由于 Symbol 值不是对象，所以不能添加属性。基本上，它是 一种类似于字符串的数据类型。

若 Symbol 的参数是一个对象，则会调用对象的 toString 方法转为字符串后再生成 Symbol 值。

```js
const obj = {
  toString() {
    return 'abc'
  }
}

const sym = Symbol(obj)
console.log(sym) // Symbol(abc)
```

Symbol 函数的参数只表示对当前 Symbol 值的描述，因此相同参数的 Symbol 函数的返回值是不相等的。

```js
const s1 = Symbol()
const s2 = Symbol()

s1 === s2 // false

const b1 = Symbol('bar')
const b2 = Symbol('bar')

b1 === b2 // false
```

最后，Symbol 不可以参与运算，可以转为布尔值和字符串，不可转为数值。

```js
const sym = Symbol('abc')

console.log('symbol is:' + sym) // Uncaught TypeError: Cannot convert a Symbol value to a string

console.log(`symbol is: ${sym}`) // Uncaught TypeError: Cannot convert a Symbol value to a string

console.log(String(sym)) // abc
console.log(sym.toString()) // abc

console.log(Boolean(sym)) // true
console.log(!sym) // false
```

### 作为属性名的Symbol

### 实例：消除魔术字符串

属性名的遍历

Symbol.for()、Symbol.keyFor()

实例：模块的Singleton模式

内置的Symbol值