# proxy

`vue3` 的双向绑定底层逻辑使用了 `proxy` 代理，下面简单梳理一下实现过程。

## 基本概念

首先说说 `proxy` 的基本概念，`Proxy`  这个词的原意是代理，用在这里表示由它来“代理”某些操作，可以译为“代理器”。

```js
let d=new Proxy(target,handle);
```

`Proxy` 对象的所有用法，都是上面这种形式，不同的只是 `handler` 参数的写法。`Proxy` 可以理解成，在目标对象（可以是任何类型的对象，包括原生数组，函数，甚至另一个代理）之前架设一层“拦截”，外界对该对象的访问，都必须先通过这层拦截，因此提供了一种机制，可以对外界的访问进行过滤和改写。

其中，`new Proxy()` 表示生成一个 `Proxy` 实例。作为构造函数，Proxy接受两个参数:

- 第一个参数是所要代理的目标对象（上例是一个空对象），即如果没有 `Proxy` 的介入，操作原来要访问的就是这个对象；
- 第二个参数是一个配置对象，对于每一个被代理的操作，需要提供一个对应的处理函数，该函数将拦截对应的操作。

如果 `handler` 没有设置任何拦截，那就等同于直接通向原对象。

## 实现原理

1. 获取到所有 `v-model` 的输入框，绑定键盘弹起事件
2. 触发事件后调用代理