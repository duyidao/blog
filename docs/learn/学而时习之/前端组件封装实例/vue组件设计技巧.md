# Vue组件设计技巧

## 样式的思考

### 容器基本样式，内部内容基本样式

例子：搜索栏。子组件中只定义其容器样式，即整体盒子样式，如宽度，阴影，内边距，字体样式等。

### 尽量使用低权值

例如设置输入框的样式采取标签设置，如下：

```css
input {
    width: 200px;
}
```

这样的好处是父组件使用想要修改覆盖其宽度样式时可以直接通过添加类名的方式覆盖样式，如下：

```css
.father_use_input {
    width: 200px;
}
```

否则使用者使用时还要添加 `!important` ，显得不够优雅。

### 预留调控类

预留部分可能需要的调控类名，如输入错误显示红色，正确显示绿色等，如下：

```css
.input_error {
    color: red;
    border-color: red;
}

.input_success {
    color: green;
    border-color: green;
}
```

这样使用者使用时可直接添加类名即可。

## 组件的思考

### 组件分割

对子组件进行分割，如果是固定内容就直接写死，不确定的部分、可能会变更的部分用 `slot` 部分传入。

平衡写法：可以有 `slot` 用 `slot` ，无 `slot` 使用默认插槽内容。

- 例如：搜索栏。搜索按钮是固定的，输入框可以采取插槽设置默认值的形式。
- 例如：弹窗。确定取消按钮是固定的，叉叉是固定的，标题是传入的。
- 再例如：表格。表头是固定的，内容 `td` 是传入的。

```vue
<div>
    <slot #input></slot>
    <slot #default>
    	<input name="搜索" />
    </slot>
</div>
```

## 行为的思考

把某一行为分为基本部分和业务部分，建议每一个行为都留给父组件监听。

例如：弹窗组件。关闭功能就是关闭弹窗，这个放在子组件内即可。确定事件，留给父组件实现不同操作。

更有甚者可以把行为细分拆分，如确定按钮点击可以拆分为点击确定前，确定点击触发后等。类似于划分周期。

## props的思考

组件前端行为需要的数据内部定义，业务相关数据父组件传入。

## 总结

要考虑子组件封装的便捷性与复用性。